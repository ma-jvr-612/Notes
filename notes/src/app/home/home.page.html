<ion-header
  [translucent]="true"
  style="padding: 0.5rem; border-radius: 0.5rem; box-shadow: none"
>
  <ion-toolbar color="primary" style="border-radius: 0.5rem">
    <ion-buttons slot="start">
      <ion-button> <ion-icon name="flower-outline"></ion-icon> </ion-button>
    </ion-buttons>
    <ion-title> Grocery lists </ion-title>
    <ion-buttons slot="end" style="margin-right: 0.5rem">
      @if (isLoggedIn) {
      <ion-button id="user-menu-trigger" fill="outline">
        {{ userName }}
      </ion-button>
      <ion-popover trigger="user-menu-trigger" triggerAction="click">
        <ng-template>
          <ion-content>
            <ion-list>
              <ion-item button (click)="logout()">
                <ion-label>Logout</ion-label>
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-popover>
      }
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div id="container">
    <h1 style="color: #568f87">Welcome to Groceries</h1>
    <p style="color: #568f87">
      Your new way of simply managing grocery lists and recipes
    </p>
    <div
      style="
        display: flex;
        gap: 0.5rem;
        flex-direction: column;
        justify-content: center;
      "
    >
      @if (isLoggedIn) {
      <!-- Logged in view - show all buttons -->
      <ion-button
        expand="block"
        routerLink="/notes"
        size="large"
        style="flex-grow: 1"
      >
        Create grocery lists
      </ion-button>

      <ion-button
        expand="block"
        routerLink="/blueprints"
        size="large"
        fill="outline"
        style="flex-grow: 1"
      >
        Create recipes
      </ion-button>

      <div
        style="
          height: 0.125rem;
          background: #568f87;
          margin: 2rem 8rem;
          border-radius: 1rem;
        "
      ></div>

      <ion-button
        expand="block"
        routerLink="/mobile"
        size="large"
        style="flex-grow: 1"
      >
        Go to mobile
      </ion-button>

      <ion-button
        expand="block"
        size="large"
        style="flex-grow: 1"
        fill="clear"
        (click)="openConcept()"
      >
        Check the concept
      </ion-button>
      } @else {
      <!-- Not logged in view - show only login and concept buttons -->
      <ion-button
        expand="block"
        size="large"
        style="flex-grow: 1"
        (click)="openLogin()"
      >
        Login or register
      </ion-button>

      <ion-button
        expand="block"
        size="large"
        style="flex-grow: 1"
        fill="clear"
        (click)="openConcept()"
      >
        Check the concept
      </ion-button>
      }
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-title
      style="opacity: 0.25; width: 100%; text-align: center; font-weight: 300"
    >
      Matthijs Janssen van Raaij
    </ion-title>
  </ion-toolbar>
</ion-footer>
